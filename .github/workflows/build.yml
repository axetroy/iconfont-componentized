name: build

on: [push, pull_request]

jobs:
    build:
        runs-on: ${{ matrix.os }}
        strategy:
            matrix:
                node: ["16"]
                os: [ubuntu-latest, macOS-latest, windows-latest]
        name: node.js ${{ matrix.node }} test in ${{ matrix.os }}
        steps:
            - uses: actions/checkout@v3

            - name: Environment
              run: |
                  node -v
                  npm -v
                  yarn --version

            - name: Install
              run: yarn

            - name: Tester
              run: yarn test

            - name: Compiler
              run: yarn build
